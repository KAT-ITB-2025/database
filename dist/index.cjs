'use strict';var pgCore=require('drizzle-orm/pg-core'),cuid2=require('@paralleldrive/cuid2'),drizzleOrm=require('drizzle-orm');var m=cuid2.init({length:8}),t=()=>new Date;var N=pgCore.pgEnum("account_role_enum",["admin","mamet","mentor","user","guest"]),i=pgCore.pgTable("account",{id:pgCore.text("id").primaryKey(),nim:pgCore.text("nim").notNull().unique(),password:pgCore.text("password").notNull(),role:N("role").default("user").notNull(),createdAt:pgCore.timestamp("created_at").defaultNow(),updatedAt:pgCore.timestamp("updated_at").$onUpdate(t)}),D=drizzleOrm.relations(i,({one:p})=>({user:p(r)}));var r=pgCore.pgTable("user",{id:pgCore.text("id").primaryKey().references(()=>i.id),nim:pgCore.text("nim").notNull().unique(),email:pgCore.text("email").unique(),fullName:pgCore.text("full_name"),birthDate:pgCore.date("birth_date"),phoneNumber:pgCore.text("phone_number"),idLine:pgCore.text("id_line"),idDiscord:pgCore.text("id_discord"),idInstagram:pgCore.text("id_instagram"),createdAt:pgCore.timestamp("created_at").defaultNow(),updatedAt:pgCore.timestamp("updated_at").$onUpdate(t)});var w=pgCore.pgEnum("media_bucket_enum",["core","oskm","dikpus","profile","submission-dikpus","submission-oskm","other"]),F=pgCore.pgTable("media",{id:pgCore.text("id").primaryKey().$defaultFn(m),creatorId:pgCore.text("creator_id").references(()=>r.id,{onDelete:"cascade"}).notNull(),name:pgCore.text("name").unique().notNull(),bucket:w("bucket").notNull().default("other"),type:pgCore.text("type").notNull(),url:pgCore.text("url").notNull(),updatedAt:pgCore.timestamp("updated_at",{withTimezone:true}).notNull().$onUpdate(t),createdAt:pgCore.timestamp("created_at",{withTimezone:true}).notNull().defaultNow()});exports.account=i;exports.accountRelation=D;exports.accountRoleEnum=N;exports.media=F;exports.mediaBucketEnum=w;exports.user=r;